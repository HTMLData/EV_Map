# EV_Map å……ç”µæ¡©æŸ¥æ‰¾ç³»ç»Ÿ

## é¡¹ç›®æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªåŸºäº Vue 3 + Vite çš„å……ç”µæ¡©æŸ¥æ‰¾ç³»ç»Ÿï¼Œä¸“ä¸ºå¤§ä¼—æ±½è½¦ç”¨æˆ·è®¾è®¡ã€‚ç³»ç»Ÿå®ç°äº†å……ç”µæ¡©æŸ¥æ‰¾ã€è¯¦æƒ…æŸ¥çœ‹ã€å¯¼èˆªè§„åˆ’ç­‰æ ¸å¿ƒåŠŸèƒ½ã€‚

## åŠŸèƒ½ç‰¹æ€§

### ğŸš— æ ¸å¿ƒåŠŸèƒ½
- **å……ç”µæ¡©æŸ¥æ‰¾**: åŸºäºåœ°å›¾çš„å……ç”µæ¡©æœç´¢å’Œç­›é€‰
- **è¯¦æƒ…æŸ¥çœ‹**: è¯¦ç»†çš„å……ç”µæ¡©ä¿¡æ¯å’Œè®¾æ–½æœåŠ¡
- **å¯¼èˆªè§„åˆ’**: é›†æˆé«˜å¾·åœ°å›¾çš„è·¯çº¿è§„åˆ’åŠŸèƒ½
- **å®æ—¶çŠ¶æ€**: å……ç”µæ¡©å¯ç”¨çŠ¶æ€å®æ—¶æ˜¾ç¤º

### ğŸ¨ UI/UX è®¾è®¡
- **å¤§ä¼—æ±½è½¦é£æ ¼**: é‡‡ç”¨å¤§ä¼—æ±½è½¦å“ç‰Œè‰²å½©å’Œè®¾è®¡è¯­è¨€
- **ç§»åŠ¨ç«¯ä¼˜å…ˆ**: å“åº”å¼è®¾è®¡ï¼Œå®Œç¾é€‚é…ç§»åŠ¨è®¾å¤‡
- **å†·è‰²ç³»é…è‰²**: è“/ç°/ç™½é…è‰²æ–¹æ¡ˆï¼Œç®€æ´ç°ä»£
- **æµç•…åŠ¨ç”»**: ä¸°å¯Œçš„äº¤äº’åŠ¨ç”»æ•ˆæœ

### ğŸ›  æŠ€æœ¯æ ˆ
- **å‰ç«¯æ¡†æ¶**: Vue 3 (Composition API)
- **æ„å»ºå·¥å…·**: Vite
- **è·¯ç”±ç®¡ç†**: Vue Router 4
- **çŠ¶æ€ç®¡ç†**: Pinia
- **UIç»„ä»¶åº“**: Vant 4
- **åœ°å›¾æœåŠ¡**: é«˜å¾·åœ°å›¾ JS SDK
- **ç½‘ç»œè¯·æ±‚**: Axios
- **æ ·å¼**: SCSS

## é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ api/                    # APIæœåŠ¡å±‚
â”‚   â””â”€â”€ mockService.js      # Mockæ•°æ®æœåŠ¡
â”œâ”€â”€ components/             # ç»„ä»¶
â”‚   â”œâ”€â”€ MapView.vue        # åœ°å›¾ç»„ä»¶
â”‚   â””â”€â”€ StationCard.vue    # å……ç”µæ¡©å¡ç‰‡ç»„ä»¶
â”œâ”€â”€ config/                # é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ amap.js           # é«˜å¾·åœ°å›¾é…ç½®
â”œâ”€â”€ stores/               # çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ stationStore.js   # å……ç”µæ¡©çŠ¶æ€
â”‚   â””â”€â”€ businessStore.js  # ä¸šåŠ¡æµç¨‹çŠ¶æ€
â”œâ”€â”€ views/                # é¡µé¢
â”‚   â”œâ”€â”€ Home.vue         # ä¸»é¡µï¼ˆåœ°å›¾+åˆ—è¡¨ï¼‰
â”‚   â”œâ”€â”€ StationDetail.vue # å……ç”µæ¡©è¯¦æƒ…é¡µ
â”‚   â”œâ”€â”€ ChargeSession.vue # å……ç”µä¼šè¯é¡µ
â”‚   â””â”€â”€ Pay.vue          # æ”¯ä»˜é¡µ
â”œâ”€â”€ router/               # è·¯ç”±é…ç½®
â”‚   â””â”€â”€ index.js
â”œâ”€â”€ App.vue              # æ ¹ç»„ä»¶
â””â”€â”€ main.js              # å…¥å£æ–‡ä»¶
```

## ä¸»è¦æ›´æ–°

### ğŸ”„ Tesla â†’ Volkswagen å“ç‰Œæ›´æ–°
- âœ… æ‰€æœ‰Teslaç›¸å…³ç±»åå’Œæ ·å¼å·²æ›¿æ¢ä¸ºVolkswagen
- âœ… æ›´æ–°äº†å……ç”µæ¡©æ ‡è®°å›¾æ ‡ï¼Œæ·»åŠ å¤§ä¼—Logoæ ‡è¯†
- âœ… è°ƒæ•´äº†å“ç‰Œè‰²å½©æ–¹æ¡ˆï¼Œç¬¦åˆå¤§ä¼—æ±½è½¦è®¾è®¡è§„èŒƒ
- âœ… æ›´æ–°äº†mockæ•°æ®ä¸­çš„è¿è¥å•†ä¿¡æ¯

### ğŸ—º åœ°å›¾åŠŸèƒ½å¢å¼º
- âœ… é›†æˆé«˜å¾·åœ°å›¾JS SDKï¼Œæ”¯æŒå®Œæ•´çš„åœ°å›¾äº¤äº’
- âœ… å®ç°äº†å……ç”µæ¡©æ ‡è®°ç‚¹æ˜¾ç¤ºå’ŒçŠ¶æ€åŒºåˆ†
- âœ… æ·»åŠ äº†ç”¨æˆ·å®šä½åŠŸèƒ½
- âœ… æ”¯æŒè·¯çº¿è§„åˆ’å’Œå¯¼èˆªåŠŸèƒ½
- âœ… åˆ›å»ºäº†ç»Ÿä¸€çš„åœ°å›¾é…ç½®æ–‡ä»¶

### ğŸ§© ç»„ä»¶æ¶æ„ä¼˜åŒ–
- âœ… åˆ›å»ºäº†StationCardç»„ä»¶ï¼Œæä¾›ç»Ÿä¸€çš„å……ç”µæ¡©å¡ç‰‡æ ·å¼
- âœ… å®Œå–„äº†MapViewç»„ä»¶ï¼Œæ”¯æŒæ›´å¤šåœ°å›¾äº¤äº’åŠŸèƒ½
- âœ… ä¼˜åŒ–äº†StationDetailé¡µé¢ï¼Œæä¾›æ›´ä¸°å¯Œçš„ä¿¡æ¯å±•ç¤º

### ğŸ”Œ APIæœåŠ¡å±‚
- âœ… åˆ›å»ºäº†å®Œæ•´çš„mockService.jsï¼Œæä¾›APIæ¥å£æŠ½è±¡
- âœ… æ”¯æŒçœŸå®APIå’ŒMockæ•°æ®çš„æ— ç¼åˆ‡æ¢
- âœ… å®ç°äº†å……ç”µæ¡©ã€ç”¨æˆ·ã€å……ç”µä¼šè¯ã€æ”¯ä»˜ç­‰å®Œæ•´API

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js >= 16.0.0
- npm >= 8.0.0

### å®‰è£…ä¾èµ–
```bash
npm install
```

### HTTPS å¼€å‘æœåŠ¡å™¨

#### macOS/Linux
```bash
# ç”Ÿæˆ SSL è¯ä¹¦ï¼ˆé¦–æ¬¡è¿è¡Œï¼‰
npm run generate-certs

# å¯åŠ¨ HTTPS å¼€å‘æœåŠ¡å™¨
npm run dev:https
# æˆ–ä½¿ç”¨éƒ¨ç½²è„šæœ¬
./deploy.sh dev
```

#### Windows
```cmd
# ç”Ÿæˆ SSL è¯ä¹¦ï¼ˆé¦–æ¬¡è¿è¡Œï¼‰
npm run generate-certs:win
# æˆ–ç›´æ¥è¿è¡Œ
generate-certs.bat

# å¯åŠ¨ HTTPS å¼€å‘æœåŠ¡å™¨
npm run dev:https
# æˆ–ä½¿ç”¨éƒ¨ç½²è„šæœ¬
deploy.bat dev
```

### HTTP å¼€å‘æœåŠ¡å™¨ï¼ˆä¼ ç»Ÿæ–¹å¼ï¼‰
```bash
npm run dev
```

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬
```bash
npm run build
```

### HTTPS ç”Ÿäº§é¢„è§ˆ
```bash
npm run serve:https
# æˆ–ä½¿ç”¨éƒ¨ç½²è„šæœ¬
./deploy.sh prod
```

### Docker HTTPS éƒ¨ç½²
```bash
# ä½¿ç”¨ Docker Compose éƒ¨ç½²
./deploy.sh docker

# æ‰‹åŠ¨ Docker éƒ¨ç½²
docker-compose up -d
```

## HTTPS éƒ¨ç½²æŒ‡å—

### ğŸ” SSL è¯ä¹¦é…ç½®

#### å¼€å‘ç¯å¢ƒï¼ˆè‡ªç­¾åè¯ä¹¦ï¼‰
é¡¹ç›®å·²é…ç½®è‡ªåŠ¨ç”Ÿæˆè‡ªç­¾åè¯ä¹¦ï¼š
```bash
# ç”Ÿæˆè‡ªç­¾åè¯ä¹¦
npm run generate-certs
```

#### ç”Ÿäº§ç¯å¢ƒï¼ˆçœŸå®è¯ä¹¦ï¼‰
æ¨èä½¿ç”¨ Let's Encrypt å…è´¹è¯ä¹¦ï¼š
```bash
# ä½¿ç”¨ certbot è·å–è¯ä¹¦
sudo certbot certonly --webroot -w /var/www/html -d your-domain.com
```

### ğŸš€ éƒ¨ç½²æ–¹å¼

#### 1. æœ¬åœ° HTTPS å¼€å‘
```bash
# å¯åŠ¨ HTTPS å¼€å‘æœåŠ¡å™¨
npm run dev:https
# è®¿é—®: https://localhost:3000
```

#### 2. ç”Ÿäº§ç¯å¢ƒé¢„è§ˆ
```bash
# æ„å»ºå¹¶å¯åŠ¨ HTTPS é¢„è§ˆ
npm run serve:https
# è®¿é—®: https://localhost:4173
```

#### 3. Docker éƒ¨ç½²
```bash
# ä½¿ç”¨ Docker Compose
./deploy.sh docker

# æ‰‹åŠ¨éƒ¨ç½²
docker-compose up -d
```

#### 4. Nginx éƒ¨ç½²
1. æ„å»ºé¡¹ç›®ï¼š`npm run build`
2. é…ç½® Nginxï¼ˆå‚è€ƒ `nginx-https.conf`ï¼‰
3. ä¸Šä¼  `dist` ç›®å½•åˆ°æœåŠ¡å™¨
4. é…ç½® SSL è¯ä¹¦è·¯å¾„

### ğŸ”§ é…ç½®è¯´æ˜

#### Vite HTTPS é…ç½®
åœ¨ `vite.config.js` ä¸­å·²é…ç½® HTTPSï¼š
```javascript
server: {
  https: {
    key: fs.readFileSync('./certs/localhost-key.pem'),
    cert: fs.readFileSync('./certs/localhost.pem')
  }
}
```

#### é«˜å¾·åœ°å›¾é…ç½®
åœ¨ `src/config/amap.js` ä¸­é…ç½®é«˜å¾·åœ°å›¾ç›¸å…³å‚æ•°ï¼š

```javascript
export const amapConfig = {
  key: 'your-amap-api-key',  // è¯·æ›¿æ¢ä¸ºæ‚¨çš„å®é™…API Key
  version: '2.0',
  // ... å…¶ä»–é…ç½®
}
```

### Mockæ•°æ®
Mockæ•°æ®ä½äº `mock/stations.json`ï¼ŒåŒ…å«8ä¸ªç¤ºä¾‹å……ç”µæ¡©æ•°æ®ã€‚

## å¼€å‘æŒ‡å—

### æ·»åŠ æ–°çš„å……ç”µæ¡©
åœ¨ `mock/stations.json` ä¸­æ·»åŠ æ–°çš„å……ç”µæ¡©æ•°æ®ï¼š

```json
{
  "id": 9,
  "name": "æ–°å……ç”µç«™",
  "address": "è¯¦ç»†åœ°å€",
  "latitude": 39.9087,
  "longitude": 116.4668,
  "distance": 1.2,
  "type": ["å¿«å……", "æ…¢å……"],
  "status": "ç©ºé—²",
  "totalPorts": 12,
  "availablePorts": 8,
  "power": ["7kW", "22kW", "60kW", "120kW"],
  "price": 1.8,
  "hours": "00:00-24:00",
  "features": ["24å°æ—¶è¥ä¸š", "å…è´¹åœè½¦"],
  "operator": "å¤§ä¼—æ±½è½¦å……ç”µæœåŠ¡"
}
```

### è‡ªå®šä¹‰åœ°å›¾æ ·å¼
åœ¨ `src/config/amap.js` ä¸­ä¿®æ”¹åœ°å›¾æ ·å¼ï¼š

```javascript
export const mapThemes = {
  light: 'amap://styles/whitesmoke',
  dark: 'amap://styles/dark',
  // æ·»åŠ æ›´å¤šä¸»é¢˜
}
```

## æµè§ˆå™¨æ”¯æŒ

- Chrome >= 88
- Firefox >= 85
- Safari >= 14
- Edge >= 88

## è®¸å¯è¯

MIT License

## è´¡çŒ®æŒ‡å—

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ Pull Request

## è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š
- é‚®ç®±: support@volkswagen-charging.com
- å®˜ç½‘: https://www.vw.com.cn